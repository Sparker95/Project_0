<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Location</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic745"></a><div class="CTopic TClass LSQF first">
 <div class="CTitle">Location</div>
 <div class="CBody"><p>Location has garrisons at a static place and spawns units.</p><p>Author: Sparker 28.07.2018</p></div>
</div>

<a name="Functions"></a><a name="Topic746"></a><div class="CTopic TGroup LSQF">
 <div class="CTitle">Functions</div>
</div>

<a name="new"></a><a name="Topic747"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">new</div>
 <div class="CBody"><p>Parameters: _pos</p><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>position of this location</p></td></tr></table></div>
</div>

<a name="setName"></a><a name="Topic748"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">setName</div>
 <div class="CBody"><p>Sets debug name of this MessageLoop.</p><p>Parameters: _name</p><table class="CDefinitionList"><tr><td class="CDLEntry">_name</td><td class="CDLDefinition"><p>String</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="addChild"></a><a name="Topic749"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">addChild</div>
 <div class="CBody"><p>Adds a child location to this location (also sets the childs parent).&nbsp; Child must not belong to another location already.</p></div>
</div>

<a name="addStaticObject"></a><a name="Topic750"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">addStaticObject</div>
 <div class="CBody"><p>Adds an object to this location (building or another object)</p><p>Arguments: _hObject</p></div>
</div>

<a name="delete"></a><a name="Topic751"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">delete</div>
</div>

<a name="(static)getAll"></a><a name="Topic752"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)getAll</div>
 <div class="CBody"><p>Returns an array of all locations.</p><p>Returns: Array of location objects</p></div>
</div>

<a name="getPos"></a><a name="Topic753"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getPos</div>
 <div class="CBody"><p>Returns position of this location</p><p>Returns: Array, position</p></div>
</div>

<a name="isSpawned"></a><a name="Topic754"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">isSpawned</div>
 <div class="CBody"><p>Is the location spawned?</p><p>Returns: bool</p></div>
</div>

<a name="hasPlayers"></a><a name="Topic755"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">hasPlayers</div>
 <div class="CBody"><p>Returns true if there are any players in the location area.&nbsp; The actual value gets updated infrequently, on timer.</p><p>Returns: Bool</p></div>
</div>

<a name="getPlayerSides"></a><a name="Topic756"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getPlayerSides</div>
 <div class="CBody"><p>Returns array of sides of players within this location.</p><p>Returns: array&lt;Side&gt;</p></div>
</div>

<a name="getPatrolWaypoints"></a><a name="Topic757"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getPatrolWaypoints</div>
 <div class="CBody"><p>Returns array with positions for patrol waypoints.</p><p>Returns: Array of positions</p></div>
</div>

<a name="getType"></a><a name="Topic758"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getType</div>
 <div class="CBody"><p>Returns type of this location</p><p>Returns: String</p></div>
</div>

<a name="getType(2)"></a><a name="Topic759"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getType</div>
 <div class="CBody"><p>Returns a nice string associated with this location type</p><p>Returns: String</p></div>
</div>

<a name="getName"></a><a name="Topic760"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getName</div>
 <div class="CBody"><p>Returns: String</p></div>
</div>

<a name="getDisplayName"></a><a name="Topic761"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getDisplayName</div>
 <div class="CBody"><p>Returns a display name to show in UIs. Format is: &lt;type&gt; &lt;name&gt;, like &quot;Camp Potato&quot;.</p></div>
</div>

<a name="getDisplayColor"></a><a name="Topic762"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getDisplayColor</div>
 <div class="CBody"><p>Returns a display color to show in UIs. Format is: [r,g,b,a].</p></div>
</div>

<a name="getSide"></a><a name="Topic763"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getSide</div>
 <div class="CBody"><p>Returns side of the garrison that controls this location.</p><p>Returns: Side, or Civilian if there is no garrison</p></div>
</div>

<a name="getCapacityInf"></a><a name="Topic764"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getCapacityInf</div>
 <div class="CBody"><p>Returns infantry capacity of this location -- how many infantry can be stationed here</p><p>Returns: Integer</p></div>
</div>

<a name="getCapacityCiv"></a><a name="Topic765"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getCapacityCiv</div>
 <div class="CBody"><p>Returns civ capacity of this location -- how many civilians this location can have</p><p>Returns: Integer</p></div>
</div>

<a name="getOpenBuildings"></a><a name="Topic766"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getOpenBuildings</div>
 <div class="CBody"><p>Returns an array of object handles of buildings in which AI infantry can enter (they must return buildingPos positions)</p></div>
</div>

<a name="getGameModeData"></a><a name="Topic767"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getGameModeData</div>
 <div class="CBody"><p>Returns gameModeData object</p></div>
</div>

<a name="hasRadio"></a><a name="Topic768"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">hasRadio</div>
 <div class="CBody"><p>Returns true if this location has any object of the radio object types</p></div>
</div>

<a name="wasOccupied"></a><a name="Topic769"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">wasOccupied</div>
 <div class="CBody"><p>Returns value of wasOccupied variable.</p></div>
</div>

<a name="getBorder"></a><a name="Topic770"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getBorder</div>
 <div class="CBody"><p>gets border parameters of this location</p><p>Returns: [center, a, b, angle, isRectangle, c]</p></div>
</div>

<a name="setType"></a><a name="Topic771"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">setType</div>
 <div class="CBody"><p>Set the Type.</p><p>Parameters: _type</p><table class="CDefinitionList"><tr><td class="CDLEntry">_type</td><td class="CDLDefinition"><p>String</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="(static)findSafePosOnRoad"></a><a name="Topic772"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)findSafePosOnRoad</div>
 <div class="CBody"><p>Finds an empty position for a vehicle class name on road close to specified position.</p><p>Parameters: _startPos _startPos - start position ATL where to start searching for a position.</p><p>Returns: Array, [_pos, _dir]</p></div>
</div>

<a name="(static)findSafePos"></a><a name="Topic773"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)findSafePos</div>
 <div class="CBody"><p>Finds a safe spawn position for a vehicle with given class name.</p><p>Parameters: _className, _pos</p><table class="CDefinitionList"><tr><td class="CDLEntry">_className</td><td class="CDLDefinition"><p>String, vehicle class name</p></td></tr><tr><td class="CDLEntry">_startPos</td><td class="CDLDefinition"><p>position where to start searching from</p></td></tr></table><p>Returns: [_pos, _dir]</p></div>
</div>

<a name="countAvailableUnits"></a><a name="Topic774"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">countAvailableUnits</div>
 <div class="CBody"><p>Returns an number of current units of this location</p><p>Returns: Integer</p></div>
</div>

<a name="setBorder"></a><a name="Topic775"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">setBorder</div>
 <div class="CBody"><p>Sets border parameters for this location</p><div class="CHeading">Arguments</div><table class="CDefinitionList"><tr><td class="CDLEntry">_type</td><td class="CDLDefinition"><p>&quot;circle&quot; or &quot;rectange&quot;</p></td></tr><tr><td class="CDLEntry">_data</td><td class="CDLDefinition"><p>for &quot;circle&quot;: _radius - for &quot;rectangle&quot;:</p></td></tr><tr><td class="CDLEntry">[_a, _b, _dir]</td><td class="CDLDefinition"><p>rectangle dimensions and direction</p></td></tr></table></div>
</div>

<a name="setBorder(2)"></a><a name="Topic776"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">setBorder</div>
 <div class="CBody"><p>Getter for isBuilt</p></div>
</div>

<a name="enablePlayerRespawn"></a><a name="Topic777"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">enablePlayerRespawn</div>
 <div class="CBody"><p>Parameters: _side, _enable</p></div>
</div>

<a name="playerRespawnEnabled"></a><a name="Topic778"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">playerRespawnEnabled</div>
 <div class="CBody"><p>Parameters: _side</p><p>Returns true if player respawn is enabled for this side</p></div>
</div>

<a name="getPlayerRespawnPos"></a><a name="Topic779"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getPlayerRespawnPos</div>
 <div class="CBody"><p>Returns respawn pos for players</p></div>
</div>

<a name="iterates_through_objects_inside_the_border_and_updated_the_buildings_variable"></a><a name="Topic780"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">iterates through objects inside the border and updated the buildings variable</div>
 <div class="CBody"><table class="CDefinitionList"><tr><td class="CDLEntry">Parameters: _filter</td><td class="CDLDefinition"><p>String, each object will be tested with isKindOf command against this filter Returns: nothing</p></td></tr></table></div>
</div>

<a name="addSpawnPosFromBuildings"></a><a name="Topic781"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">addSpawnPosFromBuildings</div>
 <div class="CBody"><p>Iterates its buildings and adds spawn positions from them</p></div>
</div>

<a name="(static)nearLocations"></a><a name="Topic782"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)nearLocations</div>
 <div class="CBody"><p>Returns an array of locations that are _radius meters from _pos. Distance is checked in 2D mode.</p><p>Parameters: _pos, _radius</p><p>Returns: nil</p></div>
</div>

<a name="addAllowedArea"></a><a name="Topic821"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">addAllowedArea</div>
 <div class="CBody"><p>Adds a rectangular allowed area to this location</p><div class="CHeading">Arguments</div><p>_pos, _a, _b, _dir</p><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>position of the allowed area</p></td></tr><tr><td class="CDLEntry">_a, _b, _dir</td><td class="CDLDefinition"><p>size and direction, like in a marker</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="addSpawnPos"></a><a name="Topic818"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">addSpawnPos</div>
 <div class="CBody"><p>Adds a spawn position to to the spawn types array.</p><p>Parameters: _typesArray, _groupTypes, _pos, _dir, _building _unitTypes - array with _groupTypes - array with group types _pos - position _dir - direction _building - the building this pos. is attached to or objNull if it's not dependant on any building</p></div>
</div>

<a name="addSpawnPosFromBuilding"></a><a name="Topic815"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">addSpawnPosFromBuilding</div>
 <div class="CBody"><p>Adds spawn positions of this building to the location.</p><p>Parameters: _building</p><table class="CDefinitionList"><tr><td class="CDLEntry">_building</td><td class="CDLDefinition"><p>the object handle of the building</p></td></tr></table><p>Author: Sparker 03.08.2018</p></div>
</div>

<a name="build"></a><a name="Topic824"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">build</div>
 <div class="CBody"><p>Builds this location depending on its type</p></div>
</div>

<a name="calculateInfantryCapacity"></a><a name="Topic809"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">calculateInfantryCapacity</div>
 <div class="CBody"><p>Calculates infantry capacity based on buildings in this location.</p><table class="CDefinitionList"><tr><td class="CDLEntry">Returns: Number</td><td class="CDLDefinition"><p>amount of infantry soldeirs that can stay here</p></td></tr></table><p>Author: Sparker 03.08.2018</p></div>
</div>

<a name="spawn"></a><a name="Topic812"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">spawn</div>
 <div class="CBody"><p>Despawns location</p><p>Threading: should be called through postMethod (see &lt;MessageReceiverEx&gt;)</p><p>Returns: nil</p></div>
</div>

<a name="(static)getLocationAtPos"></a><a name="Topic806"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)getLocationAtPos</div>
 <div class="CBody"><p>Returns a lowermost location that has the provided position/object within its border.</p><p>Parameters: _pos</p><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>position or object</p></td></tr></table><p>Returns: <a href="../../index.html#SQFClass:Location" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,745);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Location</a> or &quot;&quot; if there is no such location</p><p>Author: Sparker 2.11.2019</p></div>
</div>

<a name="(static)getLocationsAtPos"></a><a name="Topic803"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)getLocationsAtPos</div>
 <div class="CBody"><p>Returns an array of locations that have the provided position/object within its border.&nbsp; Same as getLocationAtPos, but returns all locations</p><p>Parameters: _pos, _locations</p><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>position or object</p></td></tr><tr><td class="CDLEntry">_locations</td><td class="CDLDefinition"><p>optional, array of locations to search through. If omitted, all locations are checked.</p></td></tr></table><p>Returns: <a href="../../index.html#SQFClass:Location" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,745);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Location</a> or &quot;&quot; if there is no such location</p><p>Author: Sparker 08 June 2019</p></div>
</div>

<a name="(static)getNearestLocation"></a><a name="Topic800"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)getNearestLocation</div>
 <div class="CBody"><p>Returns the nearest location to given position(or object) and 2D distance to it</p><p>Parameters: _pos</p><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>position or object</p></td></tr></table><p>Returns: [Location, distance]</p><p>Author: Sparker 2.11.2019</p></div>
</div>

<a name="getRandomPos"></a><a name="Topic797"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getRandomPos</div>
 <div class="CBody"><p>Returns a random position within the border of the location.&nbsp; Distribution is uniform</p><p>Returns: Array, position</p></div>
</div>

<a name="getSpawnPos"></a><a name="Topic794"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getSpawnPos</div>
 <div class="CBody"><p>Gets a spawn position for a unit of specified category and subcategory.</p><p>Parameters: _catID, _subcatID, _className, _groupType _catID - _subcatID - _className - _groupType -</p><p>Return value: Array in format [[x, y, z], direction]</p><p>Author: Sparker 29.07.2018</p></div>
</div>

<a name="getUnitCapacity"></a><a name="Topic791"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getUnitCapacity</div>
 <div class="CBody"><p>Returns how many units of this type and group type the location can hold.</p><p>Parameters: _unitTypes, _groupTypes _unitTypes - Number or Array - Number - catID - Array - array with [catID, subcatID] of the units _groupTypes - Array with group types</p><p>Returns: Number</p><p>Author: Sparker 29.07.2018</p></div>
</div>

<a name="handleMessage"></a><a name="Topic788"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">handleMessage</div>
 <div class="CBody"><p>Checks spawn conditions of this location. Spawns garrisons if needed.</p></div>
</div>

<a name="initFromEditor"></a><a name="Topic785"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">initFromEditor</div>
 <div class="CBody"><p>Initializes the location parameters from editor-placed objects.</p><p>Parameters: _locationSector</p><table class="CDefinitionList"><tr><td class="CDLEntry">_locationSector</td><td class="CDLDefinition"><p>Object -&gt; Location Module</p></td></tr></table><p>Returns: nil</p><p>Author: Sparker 28.07.2018</p></div>
</div>

<a name="isInAllowedArea"></a><a name="Topic744"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">isInAllowedArea</div>
 <div class="CBody"><p>Checks if given position is in one of the allowed areas</p><p>Parameters: _pos</p><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>position or object</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="isInBorder"></a><a name="Topic741"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">isInBorder</div>
 <div class="CBody"><p>Checks if given position is in area of given location.</p><p>Parameters: _pos</p><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>position</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="(static)isPosEvenSafer"></a><a name="Topic738"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)isPosEvenSafer</div>
 <div class="CBody"><p>Returns true if the place is guaranteed safe for spawning specific vehicle.&nbsp; It is very conservative and as such will disallow spawning in buildings or too close to existing objects.</p><p>Parameters: _pos, _dir, _className _pos - position ATL _dir - direction _className - vehicle class name</p><p>Returns: Bool</p><p>Author: Sparker 29.07.2018</p></div>
</div>

<a name="(static)isPosSafe"></a><a name="Topic735"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)isPosSafe</div>
 <div class="CBody"><p>Returns true if the place is good for spawning specific vehicle.&nbsp; The main method of this function - checking vehicles inside the bounding box.&nbsp; Houses and buildings are ignored.</p><p>Parameters: _pos, _dir, _className _pos - position ATL _dir - direction _className - vehicle class name</p><p>Returns: Bool</p><p>Author: Sparker 29.07.2018</p></div>
</div>

<a name="spawn"></a><a name="Topic732"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">spawn</div>
 <div class="CBody"><p>Spawns Location.</p><p>Threading: should be called through postMethod (see &lt;MessageReceiverEx&gt;)</p><p>Returns: nil</p></div>
</div>

<a name="updateWaypoints"></a><a name="Topic729"></a><div class="CTopic TFunction LSQF last">
 <div class="CTitle">updateWaypoints</div>
 <div class="CBody"><p>Updates waypoint positions</p><div class="CHeading">Arguments</div><table class="CDefinitionList"><tr><td class="CDLEntry">_type</td><td class="CDLDefinition"><p>&quot;circle&quot; or &quot;rectange&quot;</p></td></tr><tr><td class="CDLEntry">_data</td><td class="CDLDefinition"><p>for &quot;circle&quot;: _radius - for &quot;rectangle&quot;:</p></td></tr><tr><td class="CDLEntry">[_a, _b, _dir]</td><td class="CDLDefinition"><p>rectangle dimensions and direction</p></td></tr></table></div>
</div>

</body></html>