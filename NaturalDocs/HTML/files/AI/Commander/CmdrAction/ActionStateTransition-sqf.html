<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ActionStateTransition.sqf</title><link rel="stylesheet" type="text/css" href="../../../../styles/main.css" /><script type="text/javascript" src="../../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition"></a><a name="Topic183"></a><div class="CTopic TClass LSQF first">
 <div class="CTitle"><span class="Qualifier">AI.&#8203;CmdrAI.&#8203;CmdrAction.&#8203;ASTs.</span>&#8203;ActionStateTransition</div>
 <div class="CBody"><p>Base class for ASTs.</p><p>An AST (Action State Transition) defines an operation to be performed when transitioning from one <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrAction.sqf:AI.CmdrAI.CmdrAction.CmdrAction" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,192);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CmdrAction</a> state to another, as well as what states it can transition from and to.</p><p>ASTs form the bulk of the behaviour of <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrAction.sqf:AI.CmdrAI.CmdrAction.CmdrAction" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,192);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CmdrActions</a> implementations.</p><p>fromStates defines what states the AST instance is valid from. All the from and to states in ASTs should be passed in a constructor parameters, as the <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrAction.sqf:AI.CmdrAI.CmdrAction.CmdrAction" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,192);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CmdrAction</a> that owns them defines what states it wants to use. Often they will be from a common set, or the same between actions but not always. e.g. An AST that performs a move operation might transition to a READY_TO_ATTACK state in a <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrAction.sqf:AI.CmdrAI.CmdrAction.CmdrAction" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,192);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CmdrAction</a> that is implementing an attack, but to DONE in a <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrAction.sqf:AI.CmdrAI.CmdrAction.CmdrAction" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,192);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CmdrAction</a> that is just implementing a move.</p><p>This operation can be parameterized using fixed values and/or <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.AST_VAR" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,168);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >AST_VARs</a>.&nbsp; An <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.AST_VAR" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,168);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >AST_VAR</a> is a reference to a variable that can be shared between multiple ASTs.&nbsp; When one AST modifies the value the <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.AST_VAR" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,168);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >AST_VAR</a> refers to, that modification is also visible to other ASTs.&nbsp; See CmdrActionStates.hpp for the <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.AST_VAR" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,168);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >AST_VAR</a> macros.</p><p>The apply function is where the behaviour of the AST should be implemented. It should attempt to perform the action required, and then return the new state, or &lt;CMDR_ACTION_STATE_NONE&gt; if no state change should occur. For ASTs whose behaviour cannot occur instantly (e.g. moving a garrison to another location), the apply function should return &lt;CMDR_ACTION_STATE_NONE&gt; while the behaviour is ongoing, then an appropriate state once it is complete (or failed). See <a href="../../../../index.html#File:AI/Commander/CmdrAction/ASTs/AST_GarrisonAttackTarget.sqf:AI.CmdrAI.CmdrAction.ASTs.AST_GarrisonAttackTarget" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,137);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >AST_GarrisonAttackTarget</a> for an example of this. The <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrAction.sqf:AI.CmdrAI.CmdrAction.CmdrAction" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,192);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CmdrAction</a> will stay in the same state after calling an AST apply function if that function does returns &lt;CMDR_ACTION_STATE_NONE&gt;.</p></div>
</div>

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition.Functions"></a><a name="Topic184"></a><div class="CTopic TGroup LSQF">
 <div class="CTitle">Functions</div>
</div>

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition.new"></a><a name="Topic185"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">new</div>
 <div class="CBody"><p>Base constructor for ASTs. See implementing classes (AST_*) for concrete constuctor definitions.</p></div>
</div>

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition.isValidFromState"></a><a name="Topic186"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">isValidFromState</div>
 <div class="CBody"><p>Returns true if this AST can apply a transition from _state.&nbsp; i.e. if fromStates contains _state.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_state</td><td class="CDLDefinition"><p><a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.CMDR_ACTION_STATE" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,148);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CMDR_ACTION_STATE</a>, The state to test against</p></td></tr></table><p>Returns: Boolean, true if this AST can apply a transition from _state</p></div>
</div>

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition.(static)selectAndApply"></a><a name="Topic187"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static) selectAndApply</div>
 <div class="CBody"><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p><a href="../../../../index.html#File:AI/Commander/Model/WorldModel.sqf:AI.CmdrAI.Model.WorldModel" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,215);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Model.WorldModel</a>, the world we want to apply state transition behaviours in, could be REAL or SIM.</p></td></tr><tr><td class="CDLEntry">_state</td><td class="CDLDefinition"><p><a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.CMDR_ACTION_STATE" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,148);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CMDR_ACTION_STATE</a>, the Current state from which we want to attempt transition.</p></td></tr><tr><td class="CDLEntry">_transitions</td><td class="CDLDefinition"><p>Array of <a href="../../../../index.html#File:AI/Commander/CmdrAction/ActionStateTransition.sqf:AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,183);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ActionStateTransition</a>, possible transitions we can select from.</p></td></tr></table><p>Returns: <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.CMDR_ACTION_STATE" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,148);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CMDR_ACTION_STATE</a>, new state (might not have changed)</p></div>
</div>

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition.(static)selectTransition"></a><a name="Topic188"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static) selectTransition</div>
 <div class="CBody"><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p><a href="../../../../index.html#File:AI/Commander/Model/WorldModel.sqf:AI.CmdrAI.Model.WorldModel" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,215);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Model.WorldModel</a>, the world we want to apply state transition behaviours in, could be REAL or SIM.</p></td></tr><tr><td class="CDLEntry">_state</td><td class="CDLDefinition"><p><a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.CMDR_ACTION_STATE" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,148);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CMDR_ACTION_STATE</a>, the Current state from which we want to attempt transition.</p></td></tr><tr><td class="CDLEntry">_transitions</td><td class="CDLDefinition"><p>Array of <a href="../../../../index.html#File:AI/Commander/CmdrAction/ActionStateTransition.sqf:AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,183);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ActionStateTransition</a>, possible transitions we can select from.</p></td></tr></table><p>Returns: a transition which can be run from the current _state, or NULL_OBJECT</p></div>
</div>

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition.(virtual)isAvailable"></a><a name="Topic189"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(virtual) isAvailable</div>
 <div class="CBody"><p>Implement in derived classes to check custom prerequisites for this AST.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p><a href="../../../../index.html#File:AI/Commander/Model/WorldModel.sqf:AI.CmdrAI.Model.WorldModel" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,215);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Model.WorldModel</a>, the world model we are currently applying ASTs to.</p></td></tr></table><p>Returns: Boolean, if the AST is allowed to be applied now, defaults to true</p></div>
</div>

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition.(abstract_virtual)apply"></a><a name="Topic190"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(abstract virtual) apply</div>
 <div class="CBody"><p>Implement in derived classes to attempt to apply the state transition.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p><a href="../../../../index.html#File:AI/Commander/Model/WorldModel.sqf:AI.CmdrAI.Model.WorldModel" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,215);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Model.WorldModel</a>, the world model we are currently applying ASTs to.</p></td></tr></table><p>Return: <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.CMDR_ACTION_STATE" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,148);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CMDR_ACTION_STATE</a>, the new state, or &lt;CMDR_ACTION_STATE_NONE&gt; to stay in the current state (can be used for transitions that take time).</p></div>
</div>

<a name="AI.CmdrAI.CmdrAction.ASTs.ActionStateTransition.(abstract_virtual)cancel"></a><a name="Topic191"></a><div class="CTopic TFunction LSQF last">
 <div class="CTitle">(abstract virtual) cancel</div>
 <div class="CBody"><p>Implement in derived classes to cancel this action state transition while it is in progress.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p><a href="../../../../index.html#File:AI/Commander/Model/WorldModel.sqf:AI.CmdrAI.Model.WorldModel" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,215);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Model.WorldModel</a>, the world model we are currently applying ASTs to. Must be WORLD_TYPE_REAL.</p></td></tr></table><p>Return: <a href="../../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.CmdrAI.CmdrAction.CMDR_ACTION_STATE" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,148);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CMDR_ACTION_STATE</a>, the new state, or &lt;CMDR_ACTION_STATE_NONE&gt; to stay in the current state (can be used for transitions that take time).</p></div>
</div>

</body></html>