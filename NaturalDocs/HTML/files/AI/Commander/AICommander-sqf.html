<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AICommander.sqf</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="AI.AICommander"></a><a name="Topic266"></a><div class="CTopic TClass LSQF first">
 <div class="CTitle"><span class="Qualifier">AI.</span>&#8203;AICommander</div>
 <div class="CBody"><p>AI class for the commander.</p><p>Author: Bill 2018 (CmdrAI logic, planning, world model, action generation, etc) Sparker 12.11.2018 (initial file)</p></div>
</div>

<a name="AI.AICommander.Functions"></a><a name="Topic267"></a><div class="CTopic TGroup LSQF">
 <div class="CTitle">Functions</div>
</div>

<a name="AI.AICommander.(static)getCommanderAIOfSide"></a><a name="Topic268"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)getCommanderAIOfSide</div>
 <div class="CBody"><p>Returns AICommander object that commands given side</p><p>Parameters: _side</p><table class="CDefinitionList"><tr><td class="CDLEntry">_side</td><td class="CDLDefinition"><p>side</p></td></tr></table><p>Returns: <a href="../../../index.html#File:AI/Commander/AICommander.sqf:AI.AICommander" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,266);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >AICommander</a></p></div>
</div>

<a name="AI.AICommander.(static)getCmdrStrategy"></a><a name="Topic269"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)getCmdrStrategy</div>
 <div class="CBody"><p>Returns Strategy the cmdr of the specified side is using.</p><p>Parameters: _side</p><table class="CDefinitionList"><tr><td class="CDLEntry">_side</td><td class="CDLDefinition"><p>side</p></td></tr></table><p>Returns: &lt;CmdrStrategy&gt;</p></div>
</div>

<a name="AI.AICommander.setCmdrStrategy"></a><a name="Topic270"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">setCmdrStrategy</div>
 <div class="CBody"><p>Set Strategy the cmdr should use.</p><p>Parameters: _strategy</p><table class="CDefinitionList"><tr><td class="CDLEntry">_strategy</td><td class="CDLDefinition"><p>CmdrStrategy</p></td></tr></table></div>
</div>

<a name="AI.AICommander.(static)setCmdrStrategyForSide"></a><a name="Topic271"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(static)setCmdrStrategyForSide</div>
 <div class="CBody"><p>Set Strategy the cmdr should use.</p><p>Parameters: _side, _strategy</p><table class="CDefinitionList"><tr><td class="CDLEntry">_side</td><td class="CDLDefinition"><p>side</p></td></tr><tr><td class="CDLEntry">_strategy</td><td class="CDLDefinition"><p>CmdrStrategy</p></td></tr></table></div>
</div>

<a name="AI.AICommander.onTargetClusterCreated"></a><a name="Topic272"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">onTargetClusterCreated</div>
 <div class="CBody"><p>Gets called on creation of a totally new target cluster Parameters: _tc</p><table class="CDefinitionList"><tr><td class="CDLEntry">_ID</td><td class="CDLDefinition"><p>the new target cluster ID (must already exist in the cluster array)</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="AI.AICommander.onTargetClusterSplitted"></a><a name="Topic273"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">onTargetClusterSplitted</div>
 <div class="CBody"><p>Gets called when an already known cluster gets splitted into multiple new clusters.</p><p>Parameters: _tcsNew</p><table class="CDefinitionList"><tr><td class="CDLEntry">_tcsNew</td><td class="CDLDefinition"><p>array of [_affinity, _newTargetCluster]</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="AI.AICommander.onTargetClusterMerged"></a><a name="Topic274"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">onTargetClusterMerged</div>
 <div class="CBody"><p>Gets called when old clusters get merged into a new one</p><p>Parameters: _tcsOld, _tcNew</p><table class="CDefinitionList"><tr><td class="CDLEntry">_tcsOld</td><td class="CDLDefinition"><p>array with old target clusters</p></td></tr><tr><td class="CDLEntry">_tcNew</td><td class="CDLDefinition"><p>the new target cluster</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="AI.AICommander.onTargetClusterDeleted"></a><a name="Topic275"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">onTargetClusterDeleted</div>
 <div class="CBody"><p>Gets called on deletion of a cluster because these enemies are not spotted any more</p><p>Parameters: _tc</p><table class="CDefinitionList"><tr><td class="CDLEntry">_tc</td><td class="CDLDefinition"><p>the new target cluster</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="AI.AICommander.onTargetClusterUpdated"></a><a name="Topic276"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">onTargetClusterUpdated</div>
 <div class="CBody"><p>Gets called on update of a target cluster.</p></div>
</div>

<a name="AI.AICommander.getTargetCluster"></a><a name="Topic277"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getTargetCluster</div>
 <div class="CBody"><p>Returns a target cluster with specified ID</p><p>Parameters: _ID</p><table class="CDefinitionList"><tr><td class="CDLEntry">_ID</td><td class="CDLDefinition"><p>ID of the target cluster</p></td></tr></table><p>Returns: target cluster structure or [] if nothing was found</p></div>
</div>

<a name="AI.AICommander.getThreat"></a><a name="Topic278"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getThreat</div>
 <div class="CBody"><p>Get estimated threat at a particular position</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>&lt;position&gt;</p></td></tr><tr><td class="CDLEntry">Returns: Number</td><td class="CDLDefinition"><p>threat at _pos</p></td></tr></table></div>
</div>

<a name="AI.AICommander.getActivity"></a><a name="Topic279"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">getActivity</div>
 <div class="CBody"><p>Get enemy (to this cmdr) activity in an area</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_pos</td><td class="CDLDefinition"><p>&lt;position&gt;</p></td></tr><tr><td class="CDLEntry">_radius</td><td class="CDLDefinition"><p>&lt;number&gt;</p></td></tr><tr><td class="CDLEntry">Returns: Number</td><td class="CDLDefinition"><p>max activity in radius2</p></td></tr></table></div>
</div>

<a name="AI.AICommander._registerGarrison"></a><a name="Topic280"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">_registerGarrison</div>
 <div class="CBody"><p>Registers a garrison to be processed by this AICommander</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_gar</td><td class="CDLDefinition"><p><a href="../../../index.html#File:Garrison/Garrison.sqf:Garrison" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,516);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Garrison</a></p></td></tr></table><p>Returns: GarrisonModel</p></div>
</div>

<a name="AI.AICommander.registerGarrison"></a><a name="Topic281"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">registerGarrison</div>
 <div class="CBody"><p>Registers a garrison to be processed by this AICommander</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_gar</td><td class="CDLDefinition"><p><a href="../../../index.html#File:Garrison/Garrison.sqf:Garrison" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,516);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Garrison</a></p></td></tr></table><p>Returns: GarrisonModel</p></div>
</div>

<a name="AI.AICommander.registerGarrisonOutOfThread"></a><a name="Topic282"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">registerGarrisonOutOfThread</div>
 <div class="CBody"><p>Registers a garrison to be processed by this AICommander.&nbsp; Call this version if you are outside of the commander thread.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_gar</td><td class="CDLDefinition"><p><a href="../../../index.html#File:Garrison/Garrison.sqf:Garrison" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,516);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Garrison</a></p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="AI.AICommander.registerLocation"></a><a name="Topic283"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">registerLocation</div>
 <div class="CBody"><p>Registers a location to be known by this AICommander</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_loc</td><td class="CDLDefinition"><p><a href="../../../index.html#File:Location/Location.sqf:Location" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,745);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Location</a></p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="AI.AICommander.unregisterGarrison"></a><a name="Topic284"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">unregisterGarrison</div>
 <div class="CBody"><p>Unregisters a garrison from this AICommander</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_gar</td><td class="CDLDefinition"><p><a href="../../../index.html#File:Garrison/Garrison.sqf:Garrison" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,516);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >Garrison</a></p></td></tr><tr><td class="CDLEntry">_destroy</td><td class="CDLDefinition"><p>will destroy the garrison after unregistering, default false</p></td></tr></table><p>Returns: nil</p></div>
</div>

<a name="AI.AICommander.registerIntelCommanderAction"></a><a name="Topic285"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">registerIntelCommanderAction</div>
 <div class="CBody"><p>Registers a piece of intel on an action that this Commander owns.&nbsp; Parameters: _intel - &lt;IntelCommanderAction&gt;</p><p>Returns: clone of _intel item that can be used in further updateIntelFromClone operations.</p></div>
</div>

<a name="AI.AICommander.unregisterIntelCommanderAction"></a><a name="Topic286"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">unregisterIntelCommanderAction</div>
</div>

<a name="AI.AICommander.resolveTarget"></a><a name="Topic287"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">resolveTarget</div>
 <div class="CBody"><p>Returns a &lt;CmdrAITarget&gt;</p><p>Parameters: _targetType, _target</p><table class="CDefinitionList"><tr><td class="CDLEntry">_targetType</td><td class="CDLDefinition"><p>one of <a href="../../../index.html#File:AI/Commander/CmdrAction/CmdrActionStates.hpp:AI.​CmdrAI.​CmdrAITarget.TARGET_TYPE" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,176);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >AI.​CmdrAI.​CmdrAITarget.TARGET_TYPE</a></p></td></tr><tr><td class="CDLEntry">_target</td><td class="CDLDefinition"><p>position, garrison ref, location ref</p></td></tr></table><p>Returns: [TARGET_TYPE_POSITION, _pos], [TARGET_TYPE_LOCATION, _locID], [TARGET_TYPE_GARRISON, _garrID]</p></div>
</div>

<a name="AI.AICommander.plan"></a><a name="Topic288"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">plan</div>
 <div class="CBody"><p>Do a planning cycle. What action types are considered at each cycle depends on priorities and rates defined.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, real world model (see &lt;Model.WorldModel&gt; or &lt;WORLD_TYPE&gt; for details) the actions should apply to.</p></td></tr></table></div>
</div>

<a name="AI.AICommander.enablePlanning"></a><a name="Topic289"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">enablePlanning</div>
 <div class="CBody"><p>nalbes planning on a commander AI which is started.</p></div>
</div>

<a name="AI.AICommander.update"></a><a name="Topic290"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">update</div>
 <div class="CBody"><p>Update active actions.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, real world model the actions are being performed in.</p></td></tr></table></div>
</div>

<a name="AI.AICommander.(private)generateAttackActions"></a><a name="Topic291"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(private) generateAttackActions</div>
 <div class="CBody"><p>Generate a list of possible/reasonable attack actions that could be performed. It will exclude ones that are impossible or impractical. Otherwise scoring of the actions should be used to determine if they should be used.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_worldNow</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr><tr><td class="CDLEntry">_worldFuture</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr></table><p>Returns: Array of &lt;CmdrAction.Actions.QRFCmdrAction&gt;</p></div>
</div>

<a name="AI.AICommander.(private)generateReinforceActions"></a><a name="Topic292"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(private) generateReinforceActions</div>
 <div class="CBody"><p>Generate a list of possible/reasonable reinforcement actions that could be performed. It will exclude ones that are impossible or impractical. Otherwise scoring of the actions should be used to determine if they should be used.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_worldNow</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr><tr><td class="CDLEntry">_worldFuture</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr></table><p>Returns: Array of &lt;CmdrAction.Actions.ReinforceCmdrAction&gt;</p></div>
</div>

<a name="AI.AICommander.(private)generateOfficerAssignmentActions"></a><a name="Topic293"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(private) generateOfficerAssignmentActions</div>
 <div class="CBody"><p>Generate a list of officer assignments required (from aifields to outposts without officers)</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_worldNow</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr><tr><td class="CDLEntry">_worldFuture</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr></table><p>Returns: Array of &lt;CmdrAction.Actions.ReinforceCmdrAction&gt;</p></div>
</div>

<a name="AI.AICommander.(private)generateTakeOutpostActions"></a><a name="Topic294"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(private) generateTakeOutpostActions</div>
 <div class="CBody"><p>Generate a list of possible/reasonable take outpost actions that could be performed. It will exclude ones that are impossible or impractical. Otherwise scoring of the actions should be used to determine if they should be used.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_worldNow</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr><tr><td class="CDLEntry">_worldFuture</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr></table><p>Returns: Array of &lt;CmdrAction.Actions.TakeLocationCmdrAction&gt;</p></div>
</div>

<a name="AI.AICommander.(private)generatePatrolActions"></a><a name="Topic295"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(private) generatePatrolActions</div>
 <div class="CBody"><p>Generate a list of possible/reasonable patrol actions that could be performed. It will exclude ones that are impossible or impractical. Otherwise scoring of the actions should be used to determine if they should be used.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_worldNow</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr><tr><td class="CDLEntry">_worldFuture</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now sim world (see &lt;Model.WorldModel&gt; for details)</p></td></tr></table><p>Returns: Array of &lt;CmdrAction.Actions.PatrolCmdrAction&gt;</p></div>
</div>

<a name="AI.AICommander.updateExternalReinforcement"></a><a name="Topic296"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">updateExternalReinforcement</div>
 <div class="CBody"><p>Should be called on each process. Updates external reinforcements.</p></div>
</div>

<a name="AI.AICommander.(private)selectActions"></a><a name="Topic297"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(private) selectActions</div>
 <div class="CBody"><p>Generate and select new actions to add to the plan.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_actionFuncs</td><td class="CDLDefinition"><p>Array of strings, member functions of &lt;CmdrAI&gt; that generate actions that should be used.</p></td></tr><tr><td class="CDLEntry">_maxNewActions</td><td class="CDLDefinition"><p>Number, max new actions to add to the plan.</p></td></tr><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, real world model (see &lt;Model.WorldModel&gt; or &lt;WORLD_TYPE&gt; for details).</p></td></tr><tr><td class="CDLEntry">_simWorldNow</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, now world model (see &lt;Model.WorldModel&gt; or &lt;WORLD_TYPE&gt; for details).</p></td></tr><tr><td class="CDLEntry">_simWorldFuture</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, future world model (see &lt;Model.WorldModel&gt; or &lt;WORLD_TYPE&gt; for details).</p></td></tr></table></div>
</div>

<a name="AI.AICommander.(private)_plan"></a><a name="Topic298"></a><div class="CTopic TFunction LSQF">
 <div class="CTitle">(private) _plan</div>
 <div class="CBody"><p>Planning implementation, once priority to plan at has been determined.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">_world</td><td class="CDLDefinition"><p>&lt;Model.WorldModel&gt;, real world model (see &lt;Model.WorldModel&gt; or &lt;WORLD_TYPE&gt; for details) the actions should apply to.</p></td></tr><tr><td class="CDLEntry">_generatorMethodName</td><td class="CDLDefinition"><p>string, method name of the generator which will generate actions</p></td></tr></table></div>
</div>

<a name="AI.AICommander.clearAndCancelGarrisonAction"></a><a name="Topic299"></a><div class="CTopic TFunction LSQF last">
 <div class="CTitle">clearAndCancelGarrisonAction</div>
 <div class="CBody"><p>Clears action at the garrison model, terminates and deletes the action as well.</p><p>Parameters: _garModel</p><table class="CDefinitionList"><tr><td class="CDLEntry">_garModel</td><td class="CDLDefinition"><p>the garrison model</p></td></tr></table><p>Returns: nil</p></div>
</div>

</body></html>